(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{144:function(e,t,a){},217:function(e,t,a){e.exports=a(421)},222:function(e,t,a){},223:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},421:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(88),l=a.n(c),i=(a(222),a(223),a(11)),o=a(4),s=a(3),u=a(12),d=a.n(u),m=Object(s.b)(null,(function(e){return{signOut:function(){return e((function(e,t){d.a.auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{to:"/",className:"brand-logo left"},"Ecommerce"),r.a.createElement("ul",{className:"right "},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:e.signOut},"Log Out")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/cart"},r.a.createElement("i",{className:"medium material-icons cart-icon "}," add_shopping_cart "),r.a.createElement("span",{className:"count-cart-icon"}," ",e.allQuantity," ")))))),r.a.createElement("ul",{className:"sidenav",id:"mobile-links"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/dashboard"}," Dashboard ")),r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:e.signOut},"Log Out")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/cart"},r.a.createElement("i",{className:"medium material-icons cart-icon"}," add_shopping_cart "),r.a.createElement("span",{className:"count-cart-icon"}," ",e.allQuantity," ")))))})),p=function(e){var t=e.allQuantity;return r.a.createElement("div",null,r.a.createElement("nav",{className:" grey darken-3"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{to:"/",className:"brand-logo left"},"Ecommerce"),r.a.createElement("ul",{className:"right "},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/signin"},"Admin Login")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/cart"},r.a.createElement("i",{className:"medium material-icons cart-icon"},"add_shopping_cart"),r.a.createElement("span",{className:"count-cart-icon"},t))))))),r.a.createElement("ul",{className:"sidenav",id:"mobile-links"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/signin"},"Admin Login")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/cart"},r.a.createElement("i",{className:"medium material-icons cart-icon "},"add_shopping_cart"),r.a.createElement("span",{className:"count-cart-icon"},t)))))},h=Object(s.b)((function(e){return{auth:e.firebase.auth,allQuantity:e.cart.cartItems.reduce((function(e,t){return e+t.quantity}),0)}}))((function(e){var t=e.auth.uid?r.a.createElement(m,{allQuantity:e.allQuantity}):r.a.createElement(p,{allQuantity:e.allQuantity});return r.a.createElement("div",null,t)})),E=a(19),b=a(7),f=a(8),g=a(10),v=a(9),y=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(E.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login"),r.a.createElement("div",{className:"center red-text"},t?r.a.createElement("p",null,t):null))))}}]),a}(n.Component),N=Object(s.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t){d.a.auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(y),O=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(E.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state)},e}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Sign Up"))))}}]),a}(n.Component),C=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-extended"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("ul",{className:"center"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/dashboard",className:"btn btn-primary"},"Product List")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/dashboard/addproduct",className:"btn btn-primary"},"Add Product")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/dashboard/addbrand",className:"btn btn-primary"},"Add Brand"))))))},j=a(1),R=a(28),_=a.n(R),S=a(50),D=function(){var e=Object(S.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,d.a.firestore().collection("products").get();case 3:return e.sent.forEach((function(e){var a=e.data();t.push({id:e.id,products_data:a})})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(S.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.firestore().collection("brands").get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return e.data()})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){return function(){var e=Object(S.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:a=e.sent,t({type:"GET_BRANDS",payload:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};a(233),a(237),a(422);d.a.initializeApp({apiKey:"AIzaSyDOm_iGD7LZ2RavGcJf_UIBX4BSGWlX7Ww",authDomain:"ecommerce-2e324.firebaseapp.com",databaseURL:"https://ecommerce-2e324.firebaseio.com",projectId:"ecommerce-2e324",storageBucket:"ecommerce-2e324.appspot.com",messagingSenderId:"987885019854",appId:"1:987885019854:web:23f9ded2f6c1a31756669f",measurementId:"G-SYP12RM9HG"});var P=d.a.storage(),I=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={product:{title:"",category:"",images:"",brand:"",price:"",cpu:"",camera:"",size:"",weight:"",display:"",battery:"",memory:"",description:""},categories:["phones","tablets"],brands:[],image:""},e.handleChange=function(t){"images"==t.target.id?(console.log(t.target.files[0]),e.setState({image:t.target.files[0]})):e.setState({product:Object(j.a)(Object(j.a)({},e.state.product),{},Object(E.a)({},t.target.id,t.target.value))})},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state.image),P.ref("images/".concat(e.state.image.name)).put(e.state.image).on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){P.ref("images").child(e.state.image.name).getDownloadURL().then((function(t){console.log(t),e.setState({product:Object(j.a)(Object(j.a)({},e.state.product),{},{images:t})}),console.log("this.state.product.images",e.state.product.images),e.props.createProduct(e.state.product)}))}))},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.props.getbrands()}},{key:"render",value:function(){var e=this.props.brands;return r.a.createElement("div",{className:"container"},this.props.createProuduct?r.a.createElement("div",{className:"alert-addBrand"},"Prouduct created successfuly"):null,r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Product"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field col s12 "},r.a.createElement("select",{id:"category",value:this.state.category,onChange:this.handleChange},r.a.createElement("option",{value:"",defaultValue:!0},"Choose Category"),this.state.categories.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{id:"brand",value:this.state.brand,onChange:this.handleChange},r.a.createElement("option",{value:"",defaultValue:!0},"Choose Brand"),e.map((function(e,t){return r.a.createElement("option",{value:e.name,key:t},e.name)})))),r.a.createElement("div",null,r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",id:"images",onChange:this.handleChange})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path ",type:"text",placeholder:"Upload one image"})))),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",id:"price",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"cpu"},"CPU"),r.a.createElement("input",{type:"text",id:"cpu",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"camera"},"Camera"),r.a.createElement("input",{type:"text",id:"camera",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"size"},"Size"),r.a.createElement("input",{type:"text",id:"size",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"weight"},"Weight"),r.a.createElement("input",{type:"text",id:"weight",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"display"},"Display"),r.a.createElement("input",{type:"text",id:"display",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"battery"},"Battery"),r.a.createElement("input",{type:"text",id:"battery",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"memory"},"Memory"),r.a.createElement("input",{type:"text",id:"memory",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"description",className:"materialize-textarea","data-length":"500",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"description"},"Description")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"add"))))}}]),a}(n.Component),x=Object(s.b)((function(e){return{brands:e.brand.brands,createProuduct:e.product.createProuduct}}),(function(e){return{createProduct:function(t){return e(function(e){return function(t,a){d.a.firestore().collection("products").add(Object(j.a)(Object(j.a)({},e),{},{authorFirstName:"Net",authorLastName:"Ninja",authorId:12345,createdAt:new Date})).then((function(){t({type:"CREATE_PRODUCT_SUCCESS"})})).catch((function(e){t({type:"CREATE_PRODUCT_ERROR"},e)}))}}(t))},getbrands:function(){return e(w())}}}))(I),A=(a(144),function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleChange=function(t){e.setState({name:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.createBrand(e.state.name)},e}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},this.props.addBrand?r.a.createElement("div",{className:"alert-addBrand"},"brand added successfuly"):null,r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Brand"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"add"))))}}]),a}(n.Component)),k=Object(s.b)((function(e){return console.log("addBrand",e.brand.add),{addBrand:e.brand.add}}),(function(e){return{createBrand:function(t){return e(function(e){return function(t,a){d.a.firestore().collection("brands").add({name:e,authorFirstName:"Net",authorLastName:"Ninja",authorId:12345,createdAt:new Date}).then((function(){t({type:"CREATE_BRAND_SUCCESS",brand:e})})).catch((function(e){t({type:"CREATE_BRAND_ERROR",err:e})}))}}(t))}}}))(A),F=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleChange=function(e){"images"===e.target.id?(console.log(e.target.files[0].name),n.setState({product:Object(j.a)(Object(j.a)({},n.state.product),{},Object(E.a)({},e.target.id,e.target.files[0].name))})):n.setState({product:Object(j.a)(Object(j.a)({},n.state.product),{},Object(E.a)({},e.target.id,e.target.value))})},n.handleSubmit=function(e){e.preventDefault(),console.log(n.state.product),n.props.editProduct(n.state.product)},n.state={product:{id:"",title:"",category:"",images:"",brand:"",price:"",cpu:"",camera:"",size:"",weight:"",display:"",battery:"",memory:"",description:""},categories:["phones","tablets"],brands:[]},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getbrands(),d.a.firestore().collection("products").doc(this.props.match.params.id).get().then((function(t){if(t.exists){var a=t.data();e.setState({product:{id:t.id,title:a.title,category:a.category,images:a.images,brand:a.brand,price:a.price,cpu:a.cpu,camera:a.camera,size:a.size,weight:a.weight,display:a.display,battery:a.battery,memory:a.memory,description:a.description}})}else console.log("No such document!")}))}},{key:"render",value:function(){var e=this.props.brands;return r.a.createElement("div",{className:"container"},this.props.updateProuduct?r.a.createElement("div",{className:"alert-addBrand"},"Prouduct updated successfuly"):null,r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Product"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",value:this.state.product.title,id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field col s12 "},r.a.createElement("select",{id:"category",value:this.state.product.category,onChange:this.handleChange},r.a.createElement("option",{value:"",defaultValue:!0},"Choose Category"),this.state.categories.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("select",{id:"brand",value:this.state.product.brand,onChange:this.handleChange},r.a.createElement("option",{value:"",defaultValue:!0},"Choose Brand"),e.map((function(e,t){return r.a.createElement("option",{value:e.name,key:t},e.name)})))),r.a.createElement("div",null,r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",id:"images",onChange:this.handleChange})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path ",value:this.state.product.images,type:"text",placeholder:"Upload one image"})))),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",value:this.state.product.price,id:"price",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"cpu"},"CPU"),r.a.createElement("input",{type:"text",id:"cpu",value:this.state.product.cpu,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"camera"},"Camera"),r.a.createElement("input",{type:"text",id:"camera",value:this.state.product.camera,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"size"},"Size"),r.a.createElement("input",{type:"text",id:"size",value:this.state.product.size,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"weight"},"Weight"),r.a.createElement("input",{type:"text",id:"weight",value:this.state.product.weight,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"display"},"Display"),r.a.createElement("input",{type:"text",id:"display",value:this.state.product.display,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"battery"},"Battery"),r.a.createElement("input",{type:"text",id:"battery",value:this.state.product.battery,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"memory"},"Memory"),r.a.createElement("input",{type:"text",id:"memory",value:this.state.product.memory,onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("textarea",{id:"description",value:this.state.product.description,className:"materialize-textarea","data-length":"500",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"description"},"Description")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"edit"))))}}]),a}(n.Component),B=Object(s.b)((function(e){return{brands:e.brand.brands,updateProuduct:e.dashboard.updateProuduct}}),(function(e){return{editProduct:function(t){return e(function(e){return function(t,a){console.log("actions edit product",e),d.a.firestore().collection("products").doc(e.id).update(Object(j.a)(Object(j.a)({},e),{},{authorFirstName:"Net",authorLastName:"Ninja",authorId:12345,createdAt:new Date})).then((function(){t({type:"UPDATE_PRODUCT_SUCCESS"})})).catch((function(e){t({type:"UPDATE_PRODUCT_ERROR"},e)}))}}(t))},getbrands:function(){return e(w())}}}))(F),U=a(39),L=a(27),z=Object(L.d)(Object(s.b)((function(e){return{products:e.firestore.ordered.products}}),(function(e){return{deleteProduct:function(t){return e(function(e){return function(t,a){d.a.firestore().collection("products").doc(e).delete().then((function(){t({type:"DELETE_PRODUCT_SUCCESS"},e)})).catch((function(e){t({type:"DELETE_PRODUCT_ERROR"},e)}))}}(t))}}})),Object(U.firestoreConnect)([{collection:"products"}]))((function(e){var t=e.products;return r.a.createElement("div",null,r.a.createElement("h4",null,"Product Admin List"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Product"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,t&&t.map((function(t,a){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",{scope:"row"}," ",a+1),r.a.createElement("td",null," ",r.a.createElement(o.b,{to:"/product/"+t.id}," ",t.title," ")," "),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/dashboard/editproduct/"+t.id,key:a,className:"edit",title:"","data-toggle":"tooltip","data-original-title":"Edit"},r.a.createElement("i",{className:"material-icons"},"\ue254")),r.a.createElement("button",{className:"delete btn-flat",title:"","data-toggle":"tooltip","data-original-title":"Delete",onClick:function(a){return function(t,a){t.preventDefault(),e.deleteProduct(a)}(a,t.id)}},r.a.createElement("i",{className:"material-icons"},"\ue872"))))})))))})),M=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return console.log("render"),this.props.auth.uid?r.a.createElement("div",{className:"Dashboard"},r.a.createElement(C,null),r.a.createElement(i.b,{exact:!0,path:"/dashboard",component:z}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/addproduct",component:function(e){return r.a.createElement(x,e)}}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/editproduct/:id",component:B}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/addbrand",component:k})):r.a.createElement(i.a,{to:"/signin"})}}]),a}(r.a.Component),G=Object(s.b)((function(e){return{auth:e.firebase.auth}}))(M),Q=function(e){return{type:"ADD_PRODUCT_TO_CART",product:e}},Y=function(e){return e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},q=(a(386),Object(s.b)(null,(function(e){return{addToCart:function(t){return e(Q(t))}}}))((function(e){var t=e.product;return r.a.createElement("div",{className:"col s12 m6 l4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement(o.b,{to:"/product/"+t.id,key:t.id},r.a.createElement("div",{className:"img-container",style:{width:200,height:300,backgroundImage:"url(".concat(t.images,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),r.a.createElement("h3",{className:"card-title"},t.title),r.a.createElement("h4",null,Y(parseFloat(t.price)),"$")),r.a.createElement("button",{className:"btn-floating halfway-fab waves-effect waves-light red",onClick:function(){e.addToCart(t)}},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("div",{className:"card-content"},t.description.length>50?r.a.createElement("p",null,t.description.substring(0,50),"..."):r.a.createElement("p",null,t.description))))}))),W=function(e){var t=e.products;return r.a.createElement("div",{className:"project-list section"},r.a.createElement("div",{className:"row"},t&&t.map((function(e){return r.a.createElement(q,{product:e.products_data,key:e.id})}))))},V=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleCheckBoxs=function(e){var t=e.target.name;e.target.checked?(n.props.addBrandToFilter(t),console.log("name",t)):n.props.removeBrandFromFilter(t)},n.displayBrands=function(e,t,a){return r.a.createElement("p",{key:t},r.a.createElement("label",null,r.a.createElement("input",{onInput:n.handleCheckBoxs,type:"checkbox",name:e}),r.a.createElement("span",null,e," (",a[e],")")))},n.props.getbrands(),n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t={};return this.props.products.forEach((function(e){t[e.products_data.brand]=t[e.products_data.brand]+1||1})),r.a.createElement("div",null,r.a.createElement("h3",null,"Brands"),r.a.createElement("form",null,this.props.brands.map((function(a,n){return e.displayBrands(a.name,n,t)}))))}}]),a}(n.Component),J=Object(s.b)((function(e){return{brands:e.brand.brands}}),(function(e){return{getbrands:function(){return e(w())},addBrandToFilter:function(t){return e({type:"ADD_BRAND_TO_FILTER",brand:t})},removeBrandFromFilter:function(t){return e({type:"REMOVE_BRAND_FROM_FILTER",brand:t})}}}))(V),$=(a(387),function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handlePriceFilterChange=function(e){var t=e.target.value;n.setState(Object(j.a)(Object(j.a)({},n.state),{},{selected:t})),"ORDER_BY_ASC"===t?n.props.orderByAsc():n.props.orderByDesc()},n.removeFilter=function(e){document.getElementsByName("priceFilter").forEach((function(e){e.checked=!1})),n.props.clearOrderBy(),n.setState(Object(j.a)(Object(j.a)({},n.state),{},{selected:""}))},n.state={removeSelected:"",selected:""},n}return Object(f.a)(a,[{key:"render",value:function(){return this.state.selected?this.state.removeSelected=r.a.createElement("span",{onClick:this.removeFilter,className:"empty-brand-x"},"  x "):this.state.removeSelected=r.a.createElement("span",{onClick:this.removeFilter,className:"empty-brand-x"}," "),r.a.createElement("div",null,r.a.createElement("h3",null,"Prices  ",this.state.removeSelected," "),r.a.createElement("form",null,r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"priceFilter",type:"radio",value:"ORDER_BY_ASC",onChange:this.handlePriceFilterChange}),r.a.createElement("span",null,"Low to High "))),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"priceFilter",type:"radio",value:"ORDER_BY_DESC",onChange:this.handlePriceFilterChange}),r.a.createElement("span",null,"High to Low ")))))}}]),a}(r.a.Component)),H=Object(s.b)(null,(function(e){return{orderByAsc:function(){return e({type:"ORDER_BY_ASC"})},orderByDesc:function(){return e({type:"ORDER_BY_DESC"})},clearOrderBy:function(){return e({type:"CLEAR_ORDER_BY_PRICE"})}}}))($),X=(a(388),function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).props.getProducts(),n}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.allProduct,n=e.brands;return console.log("brands.length",n.length),t.length||n.length>0?r.a.createElement("div",{className:"products container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m3"},r.a.createElement(J,{products:a}),r.a.createElement(H,null)),r.a.createElement("div",{className:"col s12 m9 "},r.a.createElement(W,{products:t})))):r.a.createElement("div",null,"loading ...")}}]),a}(n.Component)),K=Object(s.b)((function(e){var t,a,n=e.brandFilter,r=e.priceFilter;return{products:function(e,t){return t?(console.log("orderbYmethod",t),"asc"===t?e.slice().sort((function(e,t){return e.products_data.price-t.products_data.price})):e.slice().sort((function(e,t){return t.products_data.price-e.products_data.price}))):e}((t=e.product.products,(a=n)?t.filter((function(e){return a.includes(e.products_data.brand)})):t),r),allProduct:e.product.products,brands:n}}),{getProducts:function(){return function(){var e=Object(S.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:a=e.sent,t({type:"GET_PRODUCTS",payload:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(X),Z=a(216),ee=Object(s.b)(null,(function(e){return{incCartQuantity:function(t){return e(function(e){return{type:"INCREMENT_CART_ITEM_QUANTITY",productId:e}}(t))},decCartQuantity:function(t){return e(function(e){return{type:"DECREMENT_CART_ITEM_QUANTITY",productId:e}}(t))},deleteCartItem:function(t){return e(function(e){return{type:"DELETE_CART_ITEM",productId:e}}(t))}}}))((function(e){var t=e.cartItem,a=t.quantity,c=t.product,l=Object(n.useState)(a),i=Object(Z.a)(l,2),o=i[0],s=i[1],u=function(t,a){var n=o;"inc"===a&&n<10&&(s(o+1),e.incCartQuantity(c.id)),"desc"===a&&n>1&&(s(o-1),e.decCartQuantity(c.id))};return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m2 "},r.a.createElement("div",{className:"cart-img "},r.a.createElement("img",{src:c.images,alt:"",style:{height:"60%",width:"60%"}}))),r.a.createElement("div",{className:"col m6 "},r.a.createElement("div",{className:"cart-details"},r.a.createElement("h4",null,r.a.createElement("strong",null,c.title.split(" (")[0])),r.a.createElement("p",null,c.description))),r.a.createElement("div",{className:"col m4 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 text-md-right"},r.a.createElement("h6",null,r.a.createElement("strong",null,Y(c.price*o),"$ "))),r.a.createElement("div",{className:"col m4"},r.a.createElement("div",{className:"quantity"},r.a.createElement("input",{type:"button",className:"plus",value:"+",onClick:function(e){u(0,"inc")}}),r.a.createElement("input",{type:"number",step:"1",max:"10",min:"1",title:"Qty",className:"qty",size:"4",onChange:function(e){return s(e.target.value)},value:o}),r.a.createElement("input",{type:"button",className:"minus",value:"-",onClick:function(e){u(0,"desc")}}))),r.a.createElement("div",{className:"col m2"},r.a.createElement("button",{type:"button",className:"btn red accent-4",onClick:function(){return t=c.id,e.deleteCartItem(t);var t}},r.a.createElement("i",{className:" material-icons"},"delete"))))))})),te=function(e){var t=e.cartItems;return r.a.createElement("div",{className:"project-list section"},r.a.createElement("div",{className:"row"},t&&t.map((function(e){return r.a.createElement(ee,{cartItem:e,key:e.product.id})}))))},ae=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.cartItems,t=this.props.totalPrice;return r.a.createElement("div",{className:"products container"},r.a.createElement(te,{cartItems:e}),r.a.createElement("div",{className:"total-cart"},r.a.createElement("p",{className:"total-title"},"Total price:"),r.a.createElement("p",{className:"total-price"}," ",Y(parseFloat(t))," ")))}}]),a}(n.Component),ne=Object(s.b)((function(e){return{cartItems:e.cart.cartItems,totalPrice:e.cart.cartItems.reduce((function(e,t){return e+t.quantity*t.product.price}),0)}}))(ae),re=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getProduct(e)}},{key:"render",value:function(){var e=this,t=this.props.product;return t?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m5 s12 "},r.a.createElement("div",{className:"cart-img "},r.a.createElement("img",{src:t.images,alt:"",style:{}}))),r.a.createElement("div",{className:"col m7 s12"},r.a.createElement("div",{className:"cart-details"},r.a.createElement("h4",null," ",t.title," "),r.a.createElement("p",null,t.description),r.a.createElement("button",{type:"button",className:"btn  accent-4",onClick:function(){e.props.addToCart(t)}},r.a.createElement("i",{className:" material-icons"},"add ")," add to card"))))):r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading project..."))}}]),a}(n.Component),ce=Object(s.b)((function(e,t){return{product:e.product.product.productData}}),(function(e){return{addToCart:function(t){return e(Q(t))},getProduct:function(t){return e(function(e){return function(t){try{d.a.firestore().collection("products").doc(e).get().then((function(e){if(e.exists){var a={productData:e.data(),id:e.id};console.log("getProduct  actions if ",a),t({type:"GET_PRODUCT",payload:a})}else console.log("No such document!")}))}catch(a){alert(a)}}}(t))}}}))(re);var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:K}),r.a.createElement(i.b,{path:"/product/:id",component:ce}),r.a.createElement(i.b,{exact:!0,path:"/signin",component:N}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:O}),r.a.createElement(i.b,{exact:!0,path:"/dashboard",component:G}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/addproduct",component:G}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/editproduct/:id",component:G}),r.a.createElement(i.b,{exact:!0,path:"/dashboard/addbrand",component:G}),r.a.createElement(i.b,{exact:!0,path:"/cart",component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie={authError:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(j.a)(Object(j.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),{authError:null};case"SIGNOUT_SUCCESS":return console.log("signout success"),e;default:return e}},se={products:[],product:{},createProuduct:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_SUCCESS":return console.log("create product"),Object(j.a)(Object(j.a)({},e),{},{createProuduct:!0});case"CREATE_PRODUCT_ERROR":return console.log("create product ERROR"),Object(j.a)(Object(j.a)({},e),{},{createProuduct:!1});case"GET_PRODUCTS":return Object(j.a)(Object(j.a)({},e),{},{products:t.payload,createProuduct:!1});case"GET_PRODUCT":return console.log("getProduct  reducer ",t.payload),Object(j.a)(Object(j.a)({},e),{},{product:t.payload,createProuduct:!1});default:return e}},de={brands:[],add:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BRAND_SUCCESS":return console.log("CREATE_BRAND_SUCCESS",e.add),Object(j.a)(Object(j.a)({},e),{},{add:!0});case"CREATE_BRAND_ERROR":return Object(j.a)(Object(j.a)({},e),{},{add:!1});case"GET_BRANDS":return Object(j.a)(Object(j.a)({},e),{},{brands:t.payload,add:!1});default:return e}},pe=a(51),he=function(e){try{var t=localStorage.getItem(e);return null===t?Object(E.a)({},e,[]):JSON.parse(t)}catch(a){return}},Ee=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he("cartItems"),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_PRODUCT_TO_CART":if((t=(e=Object(pe.a)(a.cartItems)).findIndex((function(e){return e.product.id===n.product.id})))<0)e=[].concat(Object(pe.a)(a.cartItems),[{product:n.product,quantity:1}]);else{var r=Object(j.a)({},e[t]);r.quantity++,e[t]=r}return Object(j.a)(Object(j.a)({},a),{},{cartItems:e});case"INCREMENT_CART_ITEM_QUANTITY":t=(e=Object(pe.a)(a.cartItems)).findIndex((function(e){return e.product.id===n.productId}));var c=Object(j.a)({},e[t]);return c.quantity++,e[t]=c,Object(j.a)(Object(j.a)({},a),{},{cartItems:e});case"DECREMENT_CART_ITEM_QUANTITY":t=(e=Object(pe.a)(a.cartItems)).findIndex((function(e){return e.product.id===n.productId}));var l=Object(j.a)({},e[t]);return l.quantity--,e[t]=l,Object(j.a)(Object(j.a)({},a),{},{cartItems:e});case"DELETE_CART_ITEM":return t=(e=Object(pe.a)(a.cartItems)).findIndex((function(e){return e.product.id===n.productId})),e.splice(t,1),Object(j.a)(Object(j.a)({},a),{},{cartItems:e});default:return a}},be={updateProuduct:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_SUCCESS":return console.log("delete product",t.productId),Object(j.a)(Object(j.a)({},e),{},{updateProuduct:!1});case"DELETE_PRODUCT_ERROR":return console.log("delete product ERROR",t.err),Object(j.a)(Object(j.a)({},e),{},{updateProuduct:!1});case"UPDATE_PRODUCT_SUCCESS":return console.log("UPDATE product",t.productId),Object(j.a)(Object(j.a)({},e),{},{updateProuduct:!0});case"UPDATE_PRODUCT_ERROR":return console.log("UPDATE product ERROR",t.err),Object(j.a)(Object(j.a)({},e),{},{updateProuduct:!1});default:return e}},ge=a(92),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BRAND_TO_FILTER":return e.includes(t.brand)?e:e+t.brand;case"REMOVE_BRAND_FROM_FILTER":console.log("remove brand",t);var a=new RegExp(t.brand,"gi");return e.replace(a,"");default:return e}},ye=Object(L.c)({auth:oe,brandFilter:ve,priceFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_BY_ASC":return"asc";case"ORDER_BY_DESC":return"desc";case"CLEAR_ORDER_BY_PRICE":return"";default:return e}},product:ue,dashboard:fe,brand:me,cart:Ee,firebase:U.firebaseReducer,firestore:ge.firestoreReducer}),Ne=a(215),Oe=he("cartItems"),Ce=Object(L.e)(ye,Oe,Object(L.d)(Object(L.a)(Ne.a)));Ce.subscribe((function(){!function(e,t){try{var a=JSON.stringify(e);localStorage.setItem(t,a)}catch(n){throw new Error("Can't save changes in local storage")}}({cart:Ce.getState().cart},"cartItems")}));var je={firebase:d.a,config:d.a,dispatch:Ce.dispatch,createFirestoreInstance:ge.createFirestoreInstance};function Re(e){var t=e.children,a=Object(s.c)((function(e){return e.firebase.auth}));return Object(U.isLoaded)(a)?t:r.a.createElement("div",null,"Loading...")}l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:Ce},r.a.createElement(U.ReactReduxFirebaseProvider,je,r.a.createElement(o.a,{basename:"/react_redux_firebase_ecommerce/"},r.a.createElement(Re,null,r.a.createElement(le,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.45dda6bd.chunk.js.map